<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Sermon Cue Assist â€” Sentence Focus</title>
  <meta name="theme-color" content="#0b1020"/>
  <link rel="manifest" href="manifest.json"/>
  <link rel="icon" href="icons/icon-192.png" type="image/png"/>
  <link rel="apple-touch-icon" href="icons/icon-512.png"/>
  <style>
    :root{
      --bg:#0b1020; --panel:#0f1733; --ink:#e8eeff; --muted:#9fb0d9;
      --brand:#6aa6ff; --accent:#a176ff; --ok:#4cd97b; --warn:#ffb86b; --danger:#ff6a6a;
      --hi:#24335d; --hi2:#1a2240;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:ui-sans-serif,system-ui,Apple SD Gothic Neo,Noto Sans KR,Segoe UI,Roboto,sans-serif;
      color:var(--ink);
      background: radial-gradient(1000px 700px at 20% -10%, #15204a 0%, transparent 80%) , var(--bg);
    }
    header{
      position:sticky; top:0; z-index:10;
      background:linear-gradient(180deg, rgba(11,16,32,0.9), rgba(11,16,32,0.6));
      backdrop-filter: blur(6px);
      border-bottom:1px solid #1a2550;
    }
    .bar{
      max-width:1400px; margin:0 auto; padding:10px 16px; display:flex; gap:12px; align-items:center;
    }
    h1{font-size:18px; margin:0; letter-spacing:0.3px}
    .pill{
      display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px;
      background:var(--panel); border:1px solid #202a55; color:var(--ink); font-size:14px; cursor:pointer;
    }
    .pill:hover{ outline:1px solid #2a3b75 }
    .pill .dot{ width:10px; height:10px; border-radius:50% }
    .ok{ background:var(--ok) }
    .rec{ background:#ff5f5f }
    .muted{ color:var(--muted) }
    .brand{ color:var(--brand) }
    .accent{ color:var(--accent) }

    .layout{ max-width:1400px; margin:0 auto; padding:16px; display:grid; gap:16px;
      grid-template-columns: 1fr; }
    @media (min-width: 980px){
      .layout{ grid-template-columns: 1fr 1fr; }
    }

    .panel{
      background:linear-gradient(180deg, #0f1733, #0b1229);
      border:1px solid #1a2550;
      border-radius:16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
      overflow:hidden;
      min-height: 60dvh;
    }
    .panel h2{ margin:0; font-size:16px; color:var(--muted); letter-spacing:0.2px; }
    .panel .head{ padding:12px 14px; border-bottom:1px solid #192046; display:flex; align-items:center; gap:10px; justify-content:space-between; }
    .panel .body{ padding:0; }

    .controls{ display:flex; flex-wrap:wrap; gap:8px; }
    .controls .pill{ background:#0d1530; }

    .script{
      height: calc(100dvh - 170px); overflow:auto; padding:12px 10px;
      scroll-behavior: smooth;
    }
    .seg{ padding:10px 12px; border-radius:12px; margin:6px 6px; line-height:1.7; border:1px solid transparent; }
    .seg .title{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px; }
    .seg.active{ background:linear-gradient(180deg, var(--hi), var(--hi2)); border-color:#2a3b75; }
    .sentence{ padding:2px 3px; border-radius:6px; display:inline; }
    .sentence.active{ background:#2a3b75; box-shadow:0 0 0 2px rgba(42,59,117,0.5) inset; }
    .sentence + .sentence::before{ content:" "; }

    .rightWrap{ height: calc(100dvh - 170px); overflow:auto; padding:20px 18px; }
    .rightTitle{ font-size:12px; color:var(--muted); margin-bottom:10px }
    .focusBlock{ display:flex; flex-direction:column; gap:12px; }
    .prev, .next, .curr{
      white-space:pre-wrap;
      border-radius:14px;
      padding:14px 16px;
      background:#0d1530;
      border:1px solid #1a2550;
    }
    .prev{ font-size: clamp(16px, 2.1vw, 22px); opacity:0.8 }
    .curr{ font-size: clamp(22px, 3.6vw, 40px); background:#12204a; border-color:#2a3b75 }
    .next{ font-size: clamp(16px, 2.1vw, 22px); opacity:0.8 }

    .dropzone{
      border: 2px dashed #2a3b75; border-radius:14px; padding:18px; text-align:center; margin:12px;
      background:#0d1530;
    }
    .dropzone.drag{ background:#12204a; }
    input[type=file]{ display:none }

    .footer{ text-align:center; color:var(--muted); font-size:12px; padding:12px 0 26px; }

    .kbd{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
          font-size:12px; padding:2px 6px; border:1px solid #2a3b75; border-radius:6px; background:#0d1530; color:#cfe0ff; }
  </style>
</head>
<body>
  <header>
    <div class="bar">
      <h1>ğŸšï¸ Sermon Cue Assist Â· Sentence Focus</h1>
      <div class="controls">
        <label class="pill" id="fileLabel">ğŸ“„ ì›ê³  ë¶ˆëŸ¬ì˜¤ê¸°<input id="fileInput" type="file" accept=".txt,.md"/></label>
        <button class="pill" id="btnStart">ğŸ™ï¸ ë“£ê¸° ì‹œì‘</button>
        <button class="pill" id="btnStop">â¹ï¸ ë“£ê¸° ì¤‘ì§€</button>
        <button class="pill" id="btnCalib">ğŸ¯ í˜„ì¬ë¡œ ë³´ì •</button>
        <span class="pill"><span class="dot" id="recDot"></span> <span id="recState">ëŒ€ê¸°</span></span>
      </div>
    </div>
  </header>

  <main class="layout">
    <section class="panel">
      <div class="head">
        <h2>ì™¼ìª½: ì›ê³  ì „ì²´ + í˜„ì¬ ë¬¸ì¥ í•˜ì´ë¼ì´íŠ¸</h2>
        <div class="muted">ë‹¨ë½ í´ë¦­ìœ¼ë¡œ ì´ë™, ë¬¸ì¥ í´ë¦­ìœ¼ë¡œë„ ì´ë™. â†‘/â†“ ë¬¸ì¥ ì´ë™, Space ì‹œì‘/ì •ì§€</div>
      </div>
      <div class="body">
        <div id="drop" class="dropzone">
          <div>ì—¬ê¸°ë¡œ <b>.txt</b> ë˜ëŠ” <b>.md</b> ì›ê³ ë¥¼ ëŒì–´ë†“ê±°ë‚˜, ìœ„ì—ì„œ íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”.</div>
          <div class="muted" style="margin-top:6px">ì„¹ì…˜ ì œëª©ì€ ì¤„ ì•ì— <code>#</code>, ë¬¸ì¥ êµ¬ë¶„ì€ ë§ˆì¹¨í‘œ/ë¬¼ìŒí‘œ/ëŠë‚Œí‘œ/ì¢…ê²°ë¶€í˜¸ë¡œ ìë™ ì¸ì‹</div>
          <div class="muted" style="margin-top:6px">ìƒ˜í”Œ: <button class="pill" id="btnSample">sample-sermon.txt</button></div>
        </div>
        <div id="script" class="script"></div>
      </div>
    </section>

    <section class="panel">
      <div class="head">
        <h2>ì˜¤ë¥¸ìª½: í˜„ì¬ ë¬¸ì¥ ì¤‘ì‹¬ìœ¼ë¡œ ìœ„/ì•„ë˜ ë¬¸ì¥ í¬ê²Œ í‘œì‹œ</h2>
        <div class="muted">ë¬¸ì¥ ë‹¨ìœ„ë¡œ ìë™ ë™ê¸°í™”</div>
      </div>
      <div class="body">
        <div class="rightWrap">
          <div class="rightTitle" id="rightTitle">ëŒ€ê¸° ì¤‘</div>
          <div class="focusBlock">
            <div class="prev" id="prevSent">ì´ì „ ë¬¸ì¥â€¦</div>
            <div class="curr" id="currSent">í˜„ì¬ ë¬¸ì¥â€¦</div>
            <div class="next" id="nextSent">ë‹¤ìŒ ë¬¸ì¥â€¦</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <div class="footer">PWA Â· ì˜¤í”„ë¼ì¸ ì§€ì› Â· GitHub Pages ë°°í¬ ê°€ëŠ¥ Â· Â© 2025 Sermon Cue Assist</div>

  <script src="lib/fuse.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
